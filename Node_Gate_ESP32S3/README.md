# Node Gate ESP32S3 v1.0.0

## üìã ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô **Gateway Node** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP32-S3 ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà:
1. **‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Tag_sender v3.0.8** ‡∏ú‡πà‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡πÇ‡∏ï‡∏Ñ‡∏≠‡∏• ESP-NOW
2. **‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏¢‡∏±‡∏á Arduino IoT Cloud** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡πÑ‡∏Å‡∏•‡πÑ‡∏î‡πâ

## üîß ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå

### ‚úÖ ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (ESP-NOW)
- ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Tag_sender v3.0.8
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
  - ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Raw ‡∏à‡∏≤‡∏Å 3 Anchors (A1, A2, A3)
  - ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô Regression Type 1 & 2
  - ‡∏û‡∏¥‡∏Å‡∏±‡∏î GPS (Latitude, Longitude)
  - Sequence Number, Timestamp

### ‚úÖ ‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Arduino IoT Cloud)
- ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏∂‡πâ‡∏ô Cloud ‡πÅ‡∏ö‡∏ö Real-time
- ‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô CloudLocation
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÅ‡∏•‡∏∞ Packet Loss

### ‚úÖ ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° (Cloud ‚Üí Tag)
- ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏à‡∏≤‡∏Å Cloud ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á Tag
- ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö:
  - `START` - ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
  - `STOP` - ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
  - `GOTO` - ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
  - `RETURN` - ‡∏Å‡∏•‡∏±‡∏ö‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
  - `EMERGENCY_STOP` - ‡∏´‡∏¢‡∏∏‡∏î‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô

## üõ†Ô∏è ‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ
- **ESP32-S3** (DevKit ‡∏´‡∏£‡∏∑‡∏≠ Module)
- **WiFi** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Arduino IoT Cloud

## üì¶ Library ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á
‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ú‡πà‡∏≤‡∏ô Arduino IDE Library Manager:
1. **ArduinoIoTCloud** (‡πÇ‡∏î‡∏¢ Arduino)
2. **Arduino_ConnectionHandler** (‡πÇ‡∏î‡∏¢ Arduino)
3. **ESP32** Board Package (v3.x ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏ß‡πà‡∏≤)

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Arduino IoT Cloud
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Arduino IoT Cloud](https://create.arduino.cc/iot/)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á **Thing** ‡πÉ‡∏´‡∏°‡πà
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° **Device** (ESP32-S3)
4. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ï‡∏≤‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á:

#### ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Uplink (Read Only)
| ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ | ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|-----------|--------|----------|
| `tagId` | int | Tag ID |
| `sequenceNumber` | CloudInt | ‡∏•‡∏≥‡∏î‡∏±‡∏ö Packet |
| `dataAge` | CloudInt | ‡∏≠‡∏≤‡∏¢‡∏∏‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (ms) |
| `rssi` | int | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏£‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì WiFi |
| `distanceA1Raw` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Raw ‡∏à‡∏≤‡∏Å A1 (cm) |
| `distanceA2Raw` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Raw ‡∏à‡∏≤‡∏Å A2 (cm) |
| `distanceA3Raw` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Raw ‡∏à‡∏≤‡∏Å A3 (cm) |
| `distanceA1Reg1` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg1 ‡∏à‡∏≤‡∏Å A1 (cm) |
| `distanceA2Reg1` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg1 ‡∏à‡∏≤‡∏Å A2 (cm) |
| `distanceA3Reg1` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg1 ‡∏à‡∏≤‡∏Å A3 (cm) |
| `distanceA1Reg2` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg2 ‡∏à‡∏≤‡∏Å A1 (cm) |
| `distanceA2Reg2` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg2 ‡∏à‡∏≤‡∏Å A2 (cm) |
| `distanceA3Reg2` | CloudInt | ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg2 ‡∏à‡∏≤‡∏Å A3 (cm) |
| `position` | CloudLocation | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á GPS (‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà) |
| `latitude` | float | Latitude |
| `longitude` | float | Longitude |
| `totalPackets` | CloudInt | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Packet ‡∏£‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î |
| `packetsLost` | CloudInt | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Packet ‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢ |

#### ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Downlink (Read & Write)
| ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ | ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|-----------|--------|----------|
| `command` | String | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° |
| `targetLat` | float | Latitude ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ |
| `targetLng` | float | Longitude ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ |
| `emergencyStop` | bool | ‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏¢‡∏∏‡∏î‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô |

### 2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `thingProperties.h`
‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `thingProperties.h` ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:

```cpp
// WiFi Credentials
const char WIFI_SSID[]     = "YOUR_WIFI_SSID";        // ‚¨ÖÔ∏è ‡∏ä‡∏∑‡πà‡∏≠ WiFi ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
const char WIFI_PASSWORD[] = "YOUR_WIFI_PASSWORD";    // ‚¨ÖÔ∏è ‡∏£‡∏´‡∏±‡∏™ WiFi ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì

// Arduino IoT Cloud Credentials
const char DEVICE_LOGIN_NAME[] = "YOUR_DEVICE_ID";    // ‚¨ÖÔ∏è Device ID ‡∏à‡∏≤‡∏Å Cloud
const char DEVICE_KEY[]        = "YOUR_SECRET_KEY";   // ‚¨ÖÔ∏è Secret Key ‡∏à‡∏≤‡∏Å Cloud
```

### 3. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç MAC Address ‡∏Ç‡∏≠‡∏á Tag (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå `Node_Gate_ESP32S3.ino` ‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

```cpp
// ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å Tag ‡πÄ‡∏â‡∏û‡∏≤‡∏∞
uint8_t TAG_SENDER_MAC[6] = { 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF };

// ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Broadcast (‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å Tag)
uint8_t TAG_SENDER_MAC[6] = { 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF };
```

### 4. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏î‡πÑ‡∏õ‡∏¢‡∏±‡∏á ESP32-S3
1. ‡πÄ‡∏õ‡∏¥‡∏î Arduino IDE
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Board: **ESP32S3 Dev Module**
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Port
4. ‡∏Å‡∏î **Upload**

## üìä ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### Serial Monitor
‡πÄ‡∏õ‡∏¥‡∏î Serial Monitor (115200 baud) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:

```
=== NODE GATE ESP32S3 v1.0.0 ===
Initializing...
[INFO] Gateway MAC Address: AA:BB:CC:DD:EE:FF
[‚úì] ESP-NOW Initialized
‚úì Initialization Complete
Waiting for data from Tag_sender...

[ESP-NOW] Received from Tag-7 | Seq: 123 | GPS: 13.756331, 100.501762
[Cloud] Updated - Tag: 7, Pos: 13.756331, 100.501762

========== SYSTEM STATUS ==========
Firmware: v1.0.0-Gateway
ESP-NOW: Ready
IoT Cloud: Connected
Total Packets: 456
Packets Lost: 2
Last Data Age: 187 ms
===================================
```

### Arduino IoT Cloud Dashboard
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà [Dashboard](https://create.arduino.cc/iot/dashboards)
2. ‡∏™‡∏£‡πâ‡∏≤‡∏á Dashboard ‡πÉ‡∏´‡∏°‡πà
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° Widgets:
   - **Map** ‚Üí ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö `position` (‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á Tag ‡πÅ‡∏ö‡∏ö Real-time)
   - **Gauge** ‚Üí ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö `distanceA1Reg2`, `distanceA2Reg2`, `distanceA3Reg2`
   - **Chart** ‚Üí ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö `latitude`, `longitude` (‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥)
   - **Value** ‚Üí ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö `sequenceNumber`, `totalPackets`, `packetsLost`
   - **Input** ‚Üí ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö `command`, `targetLat`, `targetLng`
   - **Switch** ‚Üí ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö `emergencyStop`

## üîç Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Tag
‚úÖ **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ ESP-NOW Channel ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô (‡∏Ñ‡πà‡∏≤ default = 11)
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Tag_sender ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏ó‡∏µ‡πà MAC Address ‡∏Ç‡∏≠‡∏á Gateway ‡∏ô‡∏µ‡πâ
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Tag ‡πÅ‡∏•‡∏∞ Gateway (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 100m)

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Arduino IoT Cloud
‚úÖ **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö WiFi SSID ‡πÅ‡∏•‡∏∞ Password
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Device ID ‡πÅ‡∏•‡∏∞ Secret Key
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Thing ‡∏ö‡∏ô Cloud ‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Packet Loss ‡∏™‡∏π‡∏á
‚úÖ **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
1. ‡∏•‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Tag ‡πÅ‡∏•‡∏∞ Gateway
2. ‡∏•‡∏î‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Tag ‡πÅ‡∏•‡∏∞ Gateway
3. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ESP-NOW Channel (‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á Channel ‡∏ó‡∏µ‡πà‡∏°‡∏µ WiFi ‡πÄ‡∏¢‡∏≠‡∏∞)

## üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ESP-NOW
```cpp
typedef struct {
  uint8_t  role;           // 0 = Tag
  uint8_t  tag_id;         // Tag ID (7)
  uint32_t seq;            // Sequence Number
  int16_t  A1_raw;         // ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Raw A1 (cm)
  int16_t  A2_raw;         // ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Raw A2 (cm)
  int16_t  A3_raw;         // ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Raw A3 (cm)
  int16_t  A1_reg2;        // ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg2 A1 (cm)
  int16_t  A2_reg2;        // ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg2 A2 (cm)
  int16_t  A3_reg2;        // ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á Reg2 A3 (cm)
  int32_t  tag_lat_e6;     // Latitude * 1,000,000
  int32_t  tag_lng_e6;     // Longitude * 1,000,000
} espnow_pkt_t;
```

### Dataflow
```
Tag_sender (ESP-NOW) ‚Üí Node_Gate (WiFi) ‚Üí Arduino IoT Cloud ‚Üí Dashboard/App
                ‚Üì                               ‚Üì
            UWB Anchors                    Commands/Control
```

## üìú Version History

### v1.0.0 (2026-01-16)
- ‚úÖ ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Tag_sender v3.0.8 ‡∏ú‡πà‡∏≤‡∏ô ESP-NOW
- ‚úÖ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ Arduino IoT Cloud
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• GPS, ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á, ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏à‡∏≤‡∏Å Cloud (Downlink)
- ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Packet Loss
- ‚úÖ Watchdog ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

## üë®‚Äçüíª ‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤
Project 3.0.0 - Indoor Positioning System

## üìß ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
Email: micmark1123456@gmail.com
GitHub: https://github.com/lnw007xyz/project3.0.0
